{"ast":null,"code":"import _classCallCheck from\"C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{SearchBar}from\"../SearchBar/SearchBar\";import{SearchResults}from\"../SearchResults/SearchResults\";import{Playlist}from\"../Playlist/Playlist\";import{PlayMusic}from\"../PlayMusic/PlayMusic\";import Spotify from\"../util/Spotify\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchResults:[],playList:[],playlistName:\"New Playlist\",srcPresent:\"17iGUekw5nFt5mIRJcUm3R\"};_this.addTrack=_this.addTrack.bind(_assertThisInitialized(_this));_this.removeTrack=_this.removeTrack.bind(_assertThisInitialized(_this));_this.changeName=_this.changeName.bind(_assertThisInitialized(_this));_this.savePlayList=_this.savePlayList.bind(_assertThisInitialized(_this));_this.search=_this.search.bind(_assertThisInitialized(_this));_this.changeSrcPresent=_this.changeSrcPresent.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.search(\"Lạc Trôi\");}},{key:\"addTrack\",value:function addTrack(track){var tracks=this.state.playList;if(!this.state.playList.find(function(e){return e.id===track.id;})){tracks.push(track);this.setState({playList:tracks});}}},{key:\"removeTrack\",value:function removeTrack(track){var tracks=this.state.playList.filter(function(e){return e.id!==track.id;});this.setState({playList:tracks});}},{key:\"changeName\",value:function changeName(value){this.setState({playlistName:value});}// spotify:track:3IAfUEeaXRX9s9UdKOJrFI\n},{key:\"savePlayList\",value:function savePlayList(){var _this2=this;var trackURIs=this.state.playList.map(function(track){return track.uri;});Spotify.savePlayList(this.state.playlistName,trackURIs).then(function(){_this2.setState({playlistName:\"New Playlist\",playList:[]});});}},{key:\"search\",value:function search(term){var _this3=this;Spotify.search(term).then(function(searchResults){_this3.setState({searchResults:searchResults});});}},{key:\"changeSrcPresent\",value:function changeSrcPresent(keyTrack){this.setState({srcPresent:keyTrack});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ja\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"mmm\"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.search}),/*#__PURE__*/_jsx(PlayMusic,{src:this.state.srcPresent}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,addTrack:this.addTrack,onchangeSrc:this.changeSrcPresent}),/*#__PURE__*/_jsx(Playlist,{searchResults:this.state.playList,removeTrack:this.removeTrack,playlistName:this.state.playlistName,changeName:this.changeName,onSave:this.savePlayList})]})]})]});}}]);return App;}(React.Component);","map":{"version":3,"sources":["C:/Users/pc/OneDrive/Documents/GitHub/Lear_React/spotify/src/Components/App/App.js"],"names":["React","SearchBar","SearchResults","Playlist","PlayMusic","Spotify","App","props","state","searchResults","playList","playlistName","srcPresent","addTrack","bind","removeTrack","changeName","savePlayList","search","changeSrcPresent","track","tracks","find","e","id","push","setState","filter","value","trackURIs","map","uri","then","term","keyTrack","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\n\r\nimport {SearchBar} from \"../SearchBar/SearchBar\";\r\nimport {SearchResults} from \"../SearchResults/SearchResults\";\r\nimport {Playlist} from \"../Playlist/Playlist\";\r\nimport {PlayMusic} from \"../PlayMusic/PlayMusic\";\r\nimport Spotify from \"../util/Spotify\";\r\n\r\nimport './App.css'\r\n\r\nexport class App extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchResults :\r\n                [],\r\n            playList:\r\n                [],\r\n            playlistName: \"New Playlist\",\r\n            srcPresent:\"17iGUekw5nFt5mIRJcUm3R\"\r\n        }\r\n\r\n        this.addTrack = this.addTrack.bind(this)\r\n        this.removeTrack = this.removeTrack.bind(this)\r\n        this.changeName = this.changeName.bind(this)\r\n        this.savePlayList = this.savePlayList.bind(this)\r\n        this.search = this.search.bind(this)\r\n        this.changeSrcPresent = this.changeSrcPresent.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.search(\"Lạc Trôi\")\r\n    }\r\n\r\n    addTrack(track){\r\n        let tracks = this.state.playList\r\n        if(!this.state.playList.find(e=>e.id===track.id)){\r\n            tracks.push(track)\r\n            this.setState({\r\n                playList:tracks\r\n            })\r\n        }\r\n    }\r\n\r\n    removeTrack(track){\r\n        let tracks = this.state.playList.filter(\r\n            e => e.id !== track.id\r\n        )\r\n        this.setState({\r\n            playList:tracks\r\n        })\r\n    }\r\n\r\n    changeName(value){\r\n        this.setState({\r\n            playlistName: value\r\n        })\r\n    }\r\n\r\n    // spotify:track:3IAfUEeaXRX9s9UdKOJrFI\r\n    savePlayList(){\r\n        const trackURIs = this.state.playList.map(track=>track.uri)\r\n        Spotify.savePlayList(this.state.playlistName,trackURIs).then(()=>{\r\n            this.setState({\r\n                playlistName:\"New Playlist\",\r\n                playList : []\r\n            })\r\n        })\r\n    }\r\n\r\n    search(term){\r\n      Spotify.search(term).then(\r\n          searchResults =>{\r\n              this.setState({\r\n                  searchResults:searchResults\r\n              })\r\n          }\r\n      )\r\n    }\r\n\r\n    changeSrcPresent(keyTrack){\r\n        this.setState({\r\n            srcPresent: keyTrack\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n                <div>\r\n                    <h1>Ja<span className=\"highlight\">mmm</span>ing</h1>\r\n                    <div className=\"App\">\r\n                        <SearchBar onSearch={this.search}/>\r\n                        <PlayMusic src={this.state.srcPresent}/>\r\n                        <div className=\"App-playlist\">\r\n                            <SearchResults searchResults={this.state.searchResults} addTrack={this.addTrack} onchangeSrc={this.changeSrcPresent}/>\r\n                            <Playlist\r\n                                searchResults={this.state.playList}\r\n                                removeTrack={this.removeTrack}\r\n                                playlistName={this.state.playlistName}\r\n                                changeName = {this.changeName}\r\n                                onSave = {this.savePlayList}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}